<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Projects | Madhu HG Gowda</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --accent1:#00bcd4;
    --accent2:#2196f3;
    --glass-bg: rgba(255,255,255,0.06);
    --card-bg: rgba(255,255,255,0.07);
  }

  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:'Poppins',sans-serif;
    background: linear-gradient(135deg,#0a0a0f,#1b1b2f,#0a0a0f);
    background-size:300% 300%;
    animation: gradientMove 8s infinite alternate ease-in-out;
    color:#eef2f7;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
  }
  @keyframes gradientMove{
    0%{background-position:left top}
    100%{background-position:right bottom}
  }

  /* Header */
  header{
    position:sticky; top:0; z-index:1000;
    display:flex; align-items:center; justify-content:space-between;
    padding:18px 8%;
    background: rgba(255,255,255,0.03);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255,255,255,0.03);
  }
  .logo{font-weight:700;color:var(--accent1);letter-spacing:1px}
  nav a{color:#e6eef3;text-decoration:none;margin:0 14px;font-weight:500;transition:.2s}
  nav a:hover{color:var(--accent1)}
  .resume-btn{
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    padding:10px 20px;border-radius:40px;color:#fff;text-decoration:none;font-weight:600;
    box-shadow:0 6px 18px rgba(0,188,212,0.18);
  }
  .top-actions{display:flex;gap:12px;align-items:center}

  /* Page container */
  .container{
    max-width:1200px;margin:60px auto;padding:0 6%;
    animation: fadeUp .8s ease;
  }
  @keyframes fadeUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:none}}

  .controls{
    display:flex;align-items:center;justify-content:space-between;margin-bottom:30px;gap:12px;
  }
  .page-title{font-size:28px;color:#e9fbff}

  .add-btn{
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    color:white;padding:10px 18px;border-radius:40px;border:0;font-weight:600;cursor:pointer;
    box-shadow:0 8px 24px rgba(0,188,212,0.12);
  }
  .add-btn:hover{transform:scale(1.03)}

  /* projects grid */
  .projects{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
    gap:28px;
  }

  .card{
    background:var(--card-bg);
    border-radius:16px;overflow:hidden;position:relative;
    box-shadow:0 8px 25px rgba(0,0,0,0.35);
    transition:all .35s ease;
    backdrop-filter: blur(10px);
    border:1px solid rgba(255,255,255,0.03);
  }
  .card:hover{transform:translateY(-10px) scale(1.02); box-shadow:0 14px 45px rgba(0,0,0,0.45)}
  .card img{width:100%;height:220px;object-fit:cover;filter:brightness(.9);transition:transform .6s,filter .3s}
  .card:hover img{transform:scale(1.08);filter:brightness(1)}
  .card-content{padding:22px}
  .card-content h3{color:var(--accent1);margin-bottom:10px;font-size:20px}
  .card-content p{color:#d8e5ea;line-height:1.6;margin-bottom:16px;font-size:14.6px}
  .card-actions{display:flex;gap:10px;flex-wrap:wrap}
  .btn{
    display:inline-block;padding:10px 18px;border-radius:50px;background:linear-gradient(135deg,var(--accent1),var(--accent2));
    color:white;text-decoration:none;font-weight:600;box-shadow:0 8px 18px rgba(0,188,212,.12)
  }
  .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#e6eef3}
  .icon-btn{background:transparent;border:0;color:#fff;padding:8px;border-radius:8px;cursor:pointer}
  .small{padding:8px 12px;font-size:13px;border-radius:8px}

  /* edit/delete style */
  .card-footer{display:flex;gap:10px;align-items:center;justify-content:flex-start;margin-top:6px}
  .delete-btn{background:linear-gradient(135deg,#ff6b6b,#ff4b4b);border:0;color:#fff;padding:8px 12px;border-radius:10px;cursor:pointer}
  .edit-btn{background:linear-gradient(135deg,#ffd166,#ffb86b);border:0;color:#1b1b1b;padding:8px 12px;border-radius:10px;cursor:pointer}

  /* footer */
  footer{
    text-align:center;padding:40px 20px;margin-top:60px;color:#bfcbd0;background:rgba(255,255,255,0.02)
  }

  /* Modal */
  .modal-backdrop{
    position:fixed;inset:0;background:rgba(2,6,23,0.6);display:none;align-items:center;justify-content:center;z-index:2000;
  }
  .modal{width:100%;max-width:680px;background:rgba(255,255,255,0.03);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(12px)}
  .modal h2{margin-bottom:12px;color:#e8fbff}
  .form-row{display:flex;gap:10px;margin-bottom:10px}
  .form-row .col{flex:1}
  input[type="text"], input[type="url"], textarea{
    width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);
    background:rgba(255,255,255,0.02);color:#eaf6fb;outline:none;font-size:14px;
  }
  textarea{min-height:96px;resize:vertical}
  .field-label{display:block;color:#bfeff6;font-size:13px;margin-bottom:6px}
  .modal .actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px}

  .secondary-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#dff7fb;padding:10px 14px;border-radius:8px;cursor:pointer}
  .save-btn{background:linear-gradient(135deg,var(--accent1),var(--accent2));color:#fff;border:0;padding:10px 16px;border-radius:8px;cursor:pointer}

  .img-preview{width:100%;height:180px;object-fit:cover;border-radius:8px;border:1px solid rgba(255,255,255,0.03);display:none;margin-top:10px}

  /* small helpers */
  .muted{color:#b7dfe6;font-size:13px}
  .top-right {display:flex;gap:10px;align-items:center}

  @media (max-width:820px){
    header{padding:14px 6%}
    .container{padding:0 6%}
    .card img{height:180px}
  }
  @media (max-width:520px){
    .form-row{flex-direction:column}
    nav{display:none}
    .controls{flex-direction:column;align-items:stretch;gap:14px}
  }
</style>
</head>

<body>

  <header>
    <div class="logo">Madhusudhan Gowda H G</div>

    <nav>
      <a href="index.html">Home</a>
      <a href="skill.html">Skills</a>
      <a href="contact.html">Contact</a>
    </nav>

    <div class="top-actions">
      <a class="resume-btn" href="1CR22CS097_madhusudhangowdhg_resume.pdf" download="resume.pdf">Download Resume</a>
    </div>
  </header>

  <main class="container">
    <div class="controls">
      <div class="page-title">Projects</div>
      <div>
        <button class="add-btn" id="openAdd">+ Add Project</button>
      </div>
    </div>

    <div class="projects" id="project-list">
      <!-- dynamically injected -->
    </div>

    <footer>
    
    </footer>
  </main>

  <!-- Modal backdrop -->
  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h2 id="modalTitle">Add Project</h2>

      <div class="form-row">
        <div class="col">
          <label class="field-label">Title</label>
          <input id="projTitle" type="text" placeholder="Project title">
        </div>
        <div class="col">
          <label class="field-label">Link (optional)</label>
          <input id="projLink" type="url" placeholder="https://github.com/...">
        </div>
      </div>

      <div>
        <label class="field-label">Description</label>
        <textarea id="projDesc" placeholder="Short description of the project"></textarea>
      </div>

      <div style="margin-top:10px;">
        <label class="field-label">Image (choose one)</label>
        <div class="form-row" style="align-items:center">
          <div class="col">
            <input id="imgUrl" type="url" placeholder="Image URL (paste link)"/>
            <div class="muted" style="margin-top:6px">OR</div>
            <input id="imgFile" type="file" accept="image/*" style="margin-top:8px"/>
          </div>
          <div style="width:180px;text-align:center">
            <div class="muted">Preview</div>
            <img id="imgPreview" class="img-preview" alt="preview"/>
          </div>
        </div>
      </div>

      <div class="actions">
        <button class="secondary-btn" id="cancelBtn">Cancel</button>
        <button class="save-btn" id="saveBtn">Save Project</button>
      </div>
    </div>
  </div>

<script>
/* Projects manager with LocalStorage + upload or URL image + add/edit/delete */
(() => {
  const STORAGE_KEY = "mhg_projects_v1";
  let projects = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

  // DOM
  const projectList = document.getElementById("project-list");

  // Modal elements
  const modal = document.getElementById("modalBackdrop");
  const openAddBtn = document.getElementById("openAdd");
  const cancelBtn = document.getElementById("cancelBtn");
  const saveBtn = document.getElementById("saveBtn");
  const modalTitle = document.getElementById("modalTitle");

  const projTitle = document.getElementById("projTitle");
  const projDesc = document.getElementById("projDesc");
  const projLink = document.getElementById("projLink");
  const imgUrl = document.getElementById("imgUrl");
  const imgFile = document.getElementById("imgFile");
  const imgPreview = document.getElementById("imgPreview");

  let editingIndex = null;
  let uploadedBase64 = "";

  function saveToStorage() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(projects));
  }

  function openModal(mode = "add", index = null) {
    modal.style.display = "flex";

    if (mode === "add") {
      modalTitle.textContent = "Add Project";
      projTitle.value = "";
      projDesc.value = "";
      projLink.value = "";
      imgUrl.value = "";
      imgFile.value = "";
      imgPreview.style.display = "none";
      uploadedBase64 = "";
      editingIndex = null;
    } else {
      modalTitle.textContent = "Edit Project";
      const p = projects[index];
      projTitle.value = p.title;
      projDesc.value = p.description;
      projLink.value = p.link;
      uploadedBase64 = "";
      editingIndex = index;

      imgPreview.src = p.img;
      imgPreview.style.display = "block";
    }
  }

  function closeModal() {
    modal.style.display = "none";
  }

  imgFile.addEventListener("change", function () {
    const f = this.files[0];
    if (!f) return;
    const reader = new FileReader();
    reader.onload = (e) => {
      uploadedBase64 = e.target.result;
      imgPreview.src = uploadedBase64;
      imgPreview.style.display = "block";
      imgUrl.value = "";
    };
    reader.readAsDataURL(f);
  });

  imgUrl.addEventListener("input", function () {
    const url = this.value.trim();
    if (!url) return;
    imgPreview.src = url;
    imgPreview.style.display = "block";
    imgFile.value = "";
    uploadedBase64 = "";
  });

  function render() {
    projectList.innerHTML = "";

    projects.forEach((p, idx) => {
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <img src="${p.img}" alt="${p.title}">
        <div class="card-content">
          <h3>${p.title}</h3>
          <p>${p.description}</p>
          <div class="card-footer">
            ${p.link ? `<a class="btn small" href="${p.link}" target="_blank">View Project</a>` : ""}
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      `;

      card.querySelector(".edit-btn").onclick = () => openModal("edit", idx);
      card.querySelector(".delete-btn").onclick = () => {
        if (confirm("Delete this project?")) {
          projects.splice(idx, 1);
          saveToStorage();
          render();
        }
      };

      projectList.appendChild(card);
    });
  }

  saveBtn.addEventListener("click", function () {
    const newProject = {
      title: projTitle.value.trim(),
      description: projDesc.value.trim(),
      link: projLink.value.trim(),
      img: uploadedBase64 || imgUrl.value.trim() || "https://via.placeholder.com/300"
    };

    if (editingIndex === null) projects.push(newProject);
    else projects[editingIndex] = newProject;

    saveToStorage();
    render();
    closeModal();
  });

  openAddBtn.addEventListener("click", () => openModal("add"));
  cancelBtn.addEventListener("click", closeModal);

  render();
})();

</script>

</body>
</html>
